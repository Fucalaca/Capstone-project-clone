<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Emotion Detector - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–π –ø–æ –≥–æ–ª–æ—Å—É</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-microphone-alt"></i> Voice Emotion Detector</h1>
            <p class="subtitle">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ –≥–æ–ª–æ—Å—É</p>
        </header>

        <div class="dashboard">
            <div class="card main-controls">
                <h2><i class="fas fa-sliders-h"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—å—é</h2>
                <div class="controls">
                    <button id="recordBtn" class="btn btn-primary">
                        <i class="fas fa-microphone"></i> –ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å
                    </button>
                    <button id="stopBtn" class="btn btn-danger" disabled>
                        <i class="fas fa-stop"></i> –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                    </button>
                    <button id="playBtn" class="btn btn-secondary" disabled>
                        <i class="fas fa-play"></i> –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
                    </button>
                    <div class="upload-container">
                        <input type="file" id="fileUpload" accept="audio/*" class="file-input">
                        <label for="fileUpload" class="btn btn-secondary">
                            <i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ
                        </label>
                    </div>
                </div>
                
                <div class="recording-status">
                    <div id="status" class="status">–ì–æ—Ç–æ–≤ –∫ –∑–∞–ø–∏—Å–∏</div>
                    <div class="timer">
                        <i class="fas fa-clock"></i>
                        <span id="timer">00:00</span>
                    </div>
                </div>
            </div>

            <div class="card audio-visualization">
                <h2><i class="fas fa-wave-square"></i> –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏–æ</h2>
                <div class="waveform-container">
                    <canvas id="waveform"></canvas>
                </div>
                <div class="audio-info">
                    <p><i class="fas fa-info-circle"></i> <strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="audioStatus">–ù–µ—Ç –∞—É–¥–∏–æ</span></p>
                    <p><i class="fas fa-volume-up"></i> <strong>–ì—Ä–æ–º–∫–æ—Å—Ç—å:</strong> <span id="volumeLevel">--</span></p>
                    <p><i class="fas fa-clock"></i> <strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> <span id="duration">--</span> —Å–µ–∫</p>
                </div>
            </div>

            <div class="card emotion-result">
                <h2><i class="fas fa-brain"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞</h2>
                <div class="stress-gauge">
                    <div class="gauge-container">
                        <div class="gauge">
                            <div class="gauge-fill" id="gaugeFill"></div>
                            <div class="gauge-center"></div>
                        </div>
                        <div class="gauge-labels">
                            <span class="label-low">–ù–∏–∑–∫–∏–π</span>
                            <span class="label-medium">–°—Ä–µ–¥–Ω–∏–π</span>
                            <span class="label-high">–í—ã—Å–æ–∫–∏–π</span>
                        </div>
                        <div class="stress-level">
                            <h3 id="stressText">–£—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞: --</h3>
                            <div class="emoji" id="stressEmoji">üòê</div>
                        </div>
                    </div>
                </div>

                <div class="emotion-probabilities">
                    <h3><i class="fas fa-chart-bar"></i> –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π</h3>
                    <div class="bars-container" id="emotionBars">
                        <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç–æ–º -->
                    </div>
                </div>

                <div class="primary-emotion">
                    <h3><i class="fas fa-heart"></i> –û—Å–Ω–æ–≤–Ω–∞—è —ç–º–æ—Ü–∏—è</h3>
                    <div class="emotion-display">
                        <div class="emotion-icon" id="primaryEmotionIcon">üòê</div>
                        <div class="emotion-text">
                            <h2 id="primaryEmotion">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ</h2>
                            <p id="confidence">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å: --%</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card wellness-tips">
                <h2><i class="fas fa-spa"></i> –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                <div class="tips-container">
                    <div class="tip" id="stressTip">
                        <h3><i class="fas fa-lightbulb"></i> –°–æ–≤–µ—Ç—ã –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å—Ç—Ä–µ—Å—Å–æ–º</h3>
                        <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–ª–∏ –∑–∞–ø–∏—à–∏—Ç–µ –∞—É–¥–∏–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</p>
                    </div>
                    <div class="tip" id="actionTip">
                        <h3><i class="fas fa-tasks"></i> –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                        <ul id="actionList">
                            <li>–ó–∞–ø–∏—à–∏—Ç–µ –≥–æ–ª–æ—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</li>
                        </ul>
                    </div>
                    <div class="tip" id="supervisorTip">
                        <h3><i class="fas fa-user-tie"></i> –î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è</h3>
                        <p>–ê–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–æ–π</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card model-info">
            <h2><i class="fas fa-cogs"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏</h2>
            <div class="info-grid">
                <div class="info-item">
                    <i class="fas fa-project-diagram"></i>
                    <h4>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h4>
                    <p>LSTM + MFCC features</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-bullseye"></i>
                    <h4>–¢–æ—á–Ω–æ—Å—Ç—å</h4>
                    <p id="modelAccuracy">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-microphone"></i>
                    <h4>–ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏</h4>
                    <p>22050 –ì—Ü</p>
                </div>
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <h4>–ú–∞–∫—Å. –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h4>
                    <p>10 —Å–µ–∫—É–Ω–¥</p>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-label">
                    <span>–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏:</span>
                    <span id="modelProgress">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="modelProgressFill"></div>
                </div>
            </div>
        </div>

        <footer>
            <p>Voice Emotion Detection System v1.0 | –î–ª—è –æ—Ü–µ–Ω–∫–∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</p>
            <p class="disclaimer">
                <i class="fas fa-exclamation-triangle"></i> 
                –í–Ω–∏–º–∞–Ω–∏–µ: –î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —è–≤–ª—è–µ—Ç—Å—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –æ—Ü–µ–Ω–∫—É.
            </p>
        </footer>
    </div>

    <script src="lib/mfcc.js"></script>
    <script src="script.js"></script>
</body>
</html>